# LLM Router WAF Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# CORE CONFIGURATION
# =============================================================================

# Server Configuration
LLM_ROUTER_PORT=8080
LLM_ROUTER_LOG_LEVEL=info
LLM_ROUTER_LOG_FORMAT=json
LLM_ROUTER_DEFAULT_STRATEGY=cost_optimized

# =============================================================================
# PROVIDER API KEYS
# =============================================================================

# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORG_ID=org-your-org-id-here

# Anthropic Configuration  
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# =============================================================================
# DAY 2: INFRASTRUCTURE SERVICES
# =============================================================================

# Redis Configuration (for caching and rate limiting)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# PostgreSQL Configuration (for analytics)
DATABASE_URL=postgres://llm_router:password@localhost:5432/llm_router_analytics
DATABASE_MAX_CONNECTIONS=20
DATABASE_TIMEOUT=30s

# =============================================================================
# DAY 2: MONITORING & OBSERVABILITY
# =============================================================================

# Prometheus Configuration
PROMETHEUS_URL=http://localhost:9090
PROMETHEUS_PUSH_GATEWAY=http://localhost:9091

# OpenTelemetry Configuration
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=llm-router-waf
OTEL_SERVICE_VERSION=1.0.0
OTEL_RESOURCE_ATTRIBUTES=deployment.environment=development

# Jaeger Configuration
JAEGER_ENDPOINT=http://localhost:14268/api/traces
JAEGER_SAMPLER_TYPE=const
JAEGER_SAMPLER_PARAM=1

# =============================================================================
# DAY 2: SECURITY & AUTHENTICATION
# =============================================================================

# API Keys for client authentication (comma-separated)
API_KEYS=api-key-1,api-key-2,api-key-3

# JWT Configuration
JWT_SECRET=your-jwt-secret-key-here
JWT_EXPIRY=24h

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10

# IP Whitelisting (comma-separated)
ALLOWED_IPS=127.0.0.1,192.168.1.0/24

# =============================================================================
# DAY 2: SECRETS MANAGEMENT
# =============================================================================

# Vault Configuration
VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=dev-root-token
VAULT_MOUNT_PATH=secret/llm-router

# Kubernetes Secrets (when running in K8s)
K8S_SECRETS_NAMESPACE=llm-router
K8S_SECRETS_NAME=llm-router-secrets

# =============================================================================
# DAY 2: CACHING & PERFORMANCE
# =============================================================================

# Response Caching
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=300s
CACHE_MAX_SIZE=1000

# Connection Pooling
CONNECTION_POOL_MAX_SIZE=100
CONNECTION_POOL_MAX_IDLE=10
CONNECTION_POOL_TIMEOUT=30s

# Request Compression
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6

# =============================================================================
# DAY 2: ANALYTICS & DATA PIPELINE
# =============================================================================

# Analytics Configuration
ANALYTICS_ENABLED=true
ANALYTICS_BATCH_SIZE=100
ANALYTICS_FLUSH_INTERVAL=60s
ANALYTICS_RETENTION_DAYS=90

# Data Export Configuration
DATA_EXPORT_ENABLED=false
DATA_EXPORT_S3_BUCKET=llm-router-analytics
DATA_EXPORT_S3_REGION=us-west-2

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================

# Development Mode
DEV_MODE=false
DEBUG_MODE=false
PROFILING_ENABLED=false

# Hot Reload (for development)
HOT_RELOAD_ENABLED=false
HOT_RELOAD_WATCH_PATHS=./configs,./internal

# Testing Configuration
TEST_MODE=false
TEST_PROVIDER_KEYS=test-openai-key,test-anthropic-key

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Environment
ENVIRONMENT=development
DEPLOYMENT_ID=local-dev
BUILD_VERSION=v1.0.0-dev

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=5s

# Graceful Shutdown
SHUTDOWN_TIMEOUT=30s

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles for Day 2 features
FEATURE_ADVANCED_ROUTING=true
FEATURE_CIRCUIT_BREAKER=true
FEATURE_REQUEST_DEDUPLICATION=true
FEATURE_GEOGRAPHIC_ROUTING=false
FEATURE_AB_TESTING=false
FEATURE_BATCH_PROCESSING=false

# Provider-specific features
FEATURE_OPENAI_ASSISTANTS=true
FEATURE_ANTHROPIC_COMPUTER_USE=false
FEATURE_MULTIMODAL_OPTIMIZATION=true